TLS certificates are used to guarantee trust, between the server and the client.

Scenario 1:
Suppose you are trying to access your bank app, you type in your username and password to authenticate into the
application, if there is no certificate the hacker is able to sniff and steal your password and username.

Scenario 2:
Suppose you decide to encrypt the data, now the hacker and the server can see the encrypted data, but both the server
and the hacker won't be able to decrypt the data. In particular, the server would not be able to authenticate you.
Now you decided to send the key to decrypt the data along with the data, server would be able to decrypt the data, so
is the hacker too. Whenever the same key that encrypt the data also decrypts it, it is called Symmetric Encryption.


Scenario 3:
Now you have two keys now, 1 public key that is used to encrypt the data, and another private key used to decrypt the
data. The public key can be shared with others, but the only key can decrypt it, is your private key.

ssh-keygen

id_rsa id_rsa.pub

You give the server the public key, they add it to ~/.ssh/authorized_keys

Now you can ssh into the server using your private key

ssh -i id_rsa user1@server

This is called Asymmetric Encryption

1. Generate private and public key on the server

openssl genrsa -out my-bank.key 1024

openssl rsa -in my-bank.key -pubout > mybank.pem

Now we have two keys on the server

my-bank.key mybank.pem

2. When the client first access the server, the public key is sent to the client, suppose the hacker sees this too
he also gets the public key of the server.

They client encrypts its own private key, using the public key sent by the server, and returns it. Now the server
has the client encrypted private key which was encrypted by its own public key. Even if the hacker gets the encrypted
keys. He cannot decrypt it since the only way to decrypt this key is by the server private key, which no one has except
the server.



Scenario 4:
Now suppose the hacker decides to create a bank app to yours and tricks you to send your encrypted private key to him
by first sending you his own public key like your bank would, because the apps are similar.

The public key has a certificate, they must be a signature, this signature must be signed by a Certificate Authority.
The certificate authority verifies your certificate and the browser trust. All browser are inbuilt will all CAs.
All browser have the public keys of the CAs. For private network, you can host your private CAs internally.

Now your browser validates them using the CAs public key. Also for the client does the same by verifying to the CA.


public keys: pem or crt extension
private keys: key extension







